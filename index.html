<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Logicle</title>
  <style>
    body {
  font-family: 'Inter', 'Helvetica Neue', Helvetica, Arial, sans-serif;
  background-color: #f9fafb;
  background-image: radial-gradient(#d3dce6 1px, transparent 1px);
  background-size: 24px 24px;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 2rem;
  font-size: 16px;
  line-height: 1.6;
  color: #222;
}

h1, h2, h3 {
  font-weight: 700;
  letter-spacing: -0.5px;
  margin-bottom: 1rem;
  text-align: center;
}

h1 {
  font-size: 2.5rem;
  margin-bottom: 1.5rem;
}

.guess-row {
  display: flex;
  gap: 0.5rem;
  margin: 0.4rem 0;
}

.cell {
  width: 3rem;
  height: 3rem;
  display: flex;
  justify-content: center;
  align-items: center;
  border: 2px solid #ccc;
  background: white;
  font-size: 1.4rem;
  font-weight: bold;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
  transition: transform 0.1s ease;
}

.correct {
  background-color: #4caf50;
  color: white;
  border-color: #4caf50;
}

.present {
  background-color: #ff9800;
  color: white;
  border-color: #ff9800;
}

.absent {
  background-color: #e0e0e0;
  color: #555;
}

input {
  width: 16rem;
  padding: 0.8rem 1rem;
  font-size: 1rem;
  margin-top: 1rem;
  border-radius: 12px;
  border: 1px solid #ccc;
  box-shadow: inset 0 1px 2px rgba(0,0,0,0.05);
  transition: box-shadow 0.2s ease;
}

input:focus {
  outline: none;
  box-shadow: 0 0 0 2px #4caf50;
}

button {
  margin-top: 1rem;
  padding: 0.8rem 1.5rem;
  background-color: #4caf50;
  color: white;
  border: none;
  border-radius: 30px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: background-color 0.2s ease, transform 0.2s ease;
}

button:hover {
  background-color: #43a047;
  transform: scale(1.05);
}

button:disabled {
  background-color: #ccc;
  cursor: not-allowed;
}

.clues {
  margin-top: 2rem;
  max-width: 600px;
  background: #ffffffcc;
  border-left: 4px solid #4caf50;
  padding: 1rem 1.5rem;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}

.clues h3 {
  margin-top: 0;
}

.hover-grow {
  transition: transform 0.2s ease-in-out;
  display: inline-block;
}

.hover-grow:hover {
  transform: scale(1.1);
}

@keyframes shake {
  0% { transform: rotate(0deg); }
  20% { transform: rotate(3deg); }
  40% { transform: rotate(-3deg); }
  60% { transform: rotate(2deg); }
  80% { transform: rotate(-2deg); }
  100% { transform: rotate(0deg); }
}

.shake-on-hover {
  display: inline-block;
  transition: transform 0.1s ease;
}

.shake-on-hover:hover {
  animation: shake 0.4s ease-in-out;
}

.info-button {
  position: absolute;
  top: 1rem;
  right: 1rem;
  font-size: 1.5rem;
  cursor: pointer;
  background: #ffffffaa;
  padding: 0.4rem 0.7rem;
  border-radius: 50%;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  transition: transform 0.2s ease;
}

.info-button:hover {
  transform: scale(1.1);
}

.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.4);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 100;
}

.modal-content {
  background: white;
  padding: 2rem;
  border-radius: 12px;
  width: 90%;
  max-width: 400px;
  text-align: center;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

.modal-content h2 {
  margin-top: 0;
}

.modal-content ul {
  text-align: left;
  padding-left: 1.2rem;
}

.modal-content button {
  margin-top: 1rem;
  background-color: #4caf50;
  color: white;
  border: none;
  padding: 0.6rem 1.2rem;
  border-radius: 8px;
  font-weight: bold;
  cursor: pointer;
}

.hidden {
  display: none;
}

  </style>
</head>
<body>
    <div class="info-button" onclick="toggleHowToPlay()">‚ÑπÔ∏è</div>

    <div id="howToPlayModal" class="modal hidden">
      <div class="modal-content">
        <h2>How to Play</h2>
        <p>Guess the truth values (T or F) for A, B, C, D, and E based on logical clues.</p>
        <ul>
          <li>Enter a combination like <strong>TFTFT</strong>.</li>
          <li>You have 5 attempts.</li>
          <li>Green = correct value & position.</li>
          <li>Orange = value is in solution, but wrong position.</li>
          <li>Gray = not in solution at all.</li>
        </ul>
        <button onclick="toggleHowToPlay()">Got it!</button>
      </div>
    </div>

  <h1 class = "hover-grow; shake-on-hover">Logicle</h1>
  <div id="board"></div>
  <input type="text" id="guessInput" style = "margin-bottom: 20px"placeholder="Enter T/F combo e.g. TFTFT" maxlength="5" />
  <button onclick="submitGuess()">Submit</button>
  <div class="clues; hover-grow">
    <h3>Clues:</h3>
    <ol>
      <li>If A is true, then B and D are both false.</li>
      <li>C is true if and only if A and E have opposite truth values.</li>
      <li>Exactly three of the five variables are true.</li>
      <li>D is true only if B is false.</li>
      <li>E is true if and only if C is false.</li>
    </ol>
  </div>
  <script>
    const solution = ['T', 'F', 'T', 'F', 'F']; // Correct logic solution: A=1, B=0, C=1, D=0, E=0
    let attempts = 0;
    const maxAttempts = 5;
    
    function checkClues(guessArr) {
      // Validate clues manually ‚Äî for now this is hardcoded for the solution above
      return guessArr.join('') === solution.join('');
    }

    function submitGuess() {
      const input = document.getElementById("guessInput");
      const value = input.value.toUpperCase();
      if (value.length !== 5 || /[^TF]/.test(value)) {
        alert("Please enter exactly 5 characters using only T or F.");
        return;
      }

      if (attempts >= maxAttempts) return;

      const guessArr = value.split("");
      const row = document.createElement("div");
      row.classList.add("guess-row");

      for (let i = 0; i < 5; i++) {
        const cell = document.createElement("div");
        cell.classList.add("cell");
        cell.textContent = guessArr[i];

        if (guessArr[i] === solution[i]) {
          cell.classList.add("correct");
        } else if (solution.includes(guessArr[i])) {
          cell.classList.add("present");
        } else {
          cell.classList.add("absent");
        }
        row.appendChild(cell);
      }
      document.getElementById("board").appendChild(row);

      attempts++;

      if (checkClues(guessArr)) {
        alert("üéâ Correct! You've solved the logic puzzle in " + attempts + " tries.");
        input.disabled = true;
      } else if (attempts === maxAttempts) {
        alert("Out of attempts! The correct answer was: " + solution.join(""));
        input.disabled = true;
      }
      input.value = "";
    }
    function toggleHowToPlay() {
        const modal = document.getElementById("howToPlayModal");
        modal.classList.toggle("hidden");
    }
  </script>
</body>
</html>
